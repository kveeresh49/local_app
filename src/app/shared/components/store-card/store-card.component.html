<app-category-card></app-category-card>

<section class="container mb-4 position-relative">
  <h2 class="text-start mb-5">Popular Stores</h2>
  <div class="flex" style="justify-content: center">
    <div style="position: absolute; right: 75px; top: 15px;margin-bottom: 20px;">
      <span>Page {{ psCurrentPage }} of {{ pageSize("popularStore") }}</span>
      <span *ngIf="psCurrentPage != 1">
        <span
          style="
            display: inline-block;
            margin: -2px 0.67375em 0;
            width: 1px;
            background-color: #ddd;
            line-height: 0;
            height: 14px;
            vertical-align: middle;
          "
        ></span>
        <span
          class="start-over cursor-pointer"
          (click)="StartingPage('popularStore')"
          >Start over</span
        >
      </span>
    </div>
  </div>
  <img
    src="../../../assets/images/left-vector.png"
    alt="prev"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%"
    *ngIf="psStartIndex != 0"
    (click)="scrollStores('popularStore', 'prev')"
  />
    <div class="container">
      <div class="row justify-content-center"  style="gap: 38px;">
        <ng-container
        *ngFor="let popularCard of popularCards; let idx = index"
        >
        <div class="store-card-max-width" *ngIf="idx >= psStartIndex && idx < psEndIndex">
        <div class="offer-tag">
          <div class="offer-text">
            <div class="ms-3">
              <div>{{popularCard.percentageText}}%</div>
              <div>OFF</div>
            </div>
          </div>
        </div>
          <div
            style="
              margin-left: -13px;
              width: 250px;
              height: 186px;
              margin-top: -1px;
              background: url({{popularCard.shopImage}});
              background-size: cover;
            "
          ></div>
          <div class="flex justify-content-between">
            <div style="margin: 7px 0 0 -5px">
              <div class="fw-semibold store-title">{{popularCard.shopTitel}}</div>
              <div class="popular-store-category text-capitalize">{{popularCard.storeCatogery}}</div>
            </div>
            <div style="margin: 11px -5px 0 0px">
              <div
                class="flex justify-content-evenly"
                style="
                  background: #5bb600;
                  border-radius: 3px;
                  width: 55px;
                  padding: 1px;
                "
              >
                <div
                  style="
                    color: #ffffff;
                    border-radius: 0.5px;
                    line-height: 15px;
                  "
                >
                  <i class="fa-solid fa-star star-calss"></i>
                </div>
                <div
                  style="color: #ffffff; line-height: 18px; font-weight: 500"
                >
                 {{popularCard.rating}}
                </div>
              </div>
              <div class="popular-store-category text-end">{{popularCard.kilometers}}km</div>
            </div>
          </div>
          <div>
          <div style="border-bottom: 1px solid #c4c4c4; margin:10px 0 10px -5px;"></div>
          <div style="font-size: 14px;color: #ff7a00;margin-left: -5px;">
            <span
              ><img
                src="../../../assets/images/popular-stores/percentage-icon.png"
                alt=""
                class="percentage-icon"
            /></span>
            <span>{{popularCard.discountText}} % off </span>
            <span
              style="
                display: inline-block;
                margin: -2px 0.67375em 0;
                width: 1.5px;
                background-color: #949292;
                line-height: 0;
                height: 14px;
                vertical-align: middle;
              "
            ></span>
            <span>Use NEWSTORE</span>
          </div>
          </div>
        </div>
        </ng-container>
      </div>
    </div>
    <img
    src="../../../assets/images/right-vector.png"
    alt="next"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%; right: -20px"
    *ngIf="psEndIndex <= popularCards.length && popularCards.length > 4"
    (click)="scrollStores('popularStore', 'next')"
  />
</section>

<section class="container mb-5 position-relative">
  <h2 class="text-start mb-4">Nearby You</h2>
  <div class="flex " style="justify-content: center">
    <div style="position: absolute; right: 75px; top: 15px; margin-bottom: 20px;">
      <span>Page {{ nsCurrentPage }} of {{ pageSize("nearByStore") }}</span>
      <span *ngIf="nsCurrentPage != 1">
        <span
          style="
            display: inline-block;
            margin: -2px 0.67375em 0;
            width: 1px;
            background-color: #ddd;
            line-height: 0;
            height: 14px;
            vertical-align: middle;
          "
        ></span>
        <span
          class="start-over cursor-pointer"
          (click)="StartingPage('nearByStore')"
          >Start over</span
        >
      </span>
    </div>
  </div>
  <img
    src="../../../assets/images/left-vector.png"
    alt="prev"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%"
    *ngIf="nsStartIndex != 0"
    (click)="scrollStores('nearByStore', 'prev')"
  />
    <div class="container">
      <div class="row justify-content-center"  style="gap: 38px;">
        <ng-container
        *ngFor="let slide of slides; let idx = index"
        >
        <div class="store-card-max-width" *ngIf="idx >= nsStartIndex && idx < nsEndIndex">
        <div class="offer-tag">
          <div class="offer-text">
            <div class="ms-3">
              <div>{{slide.percentageText}}%</div>
              <div>OFF</div>
            </div>
          </div>
        </div>
          <div
            style="
              margin-left: -13px;
              width: 250px;
              height: 186px;
              margin-top: -1px;
              background: url({{slide.shopImage}});
              background-size: cover;
            "
          ></div>
          <div class="flex justify-content-between">
            <div style="margin: 7px 0 0 -5px">
              <div class="fw-semibold store-title">{{slide.shopTitel}}</div>
              <div class="popular-store-category text-capitalize">{{slide.storeCatogery}}</div>
            </div>
            <div style="margin: 11px -5px 0 0px">
              <div
                class="flex justify-content-evenly"
                style="
                  background: #5bb600;
                  border-radius: 3px;
                  width: 55px;
                  padding: 1px;
                "
              >
                <div
                  style="
                    color: #ffffff;
                    border-radius: 0.5px;
                    line-height: 15px;
                  "
                >
                  <i class="fa-solid fa-star star-calss"></i>
                </div>
                <div
                  style="color: #ffffff; line-height: 18px; font-weight: 500"
                >
                  {{slide.rating}}
                </div>
              </div>
              <div class="popular-store-category text-end">{{slide.kilometers}}km</div>
            </div>
          </div>
          <div>
          <div style="border-bottom: 1px solid #c4c4c4; margin:10px 0 10px -5px;"></div>
          <div style="font-size: 14px;color: #ff7a00;margin-left: -5px;">
            <span
              ><img
                src="../../../assets/images/popular-stores/percentage-icon.png"
                alt=""
                class="percentage-icon"
            /></span>
            <span> {{slide.discountText}} % off </span>
            <span
              style="
                display: inline-block;
                margin: -2px 0.67375em 0;
                width: 1.5px;
                background-color: #949292;
                line-height: 0;
                height: 14px;
                vertical-align: middle;
              "
            ></span>
            <span>Use NEWSTORE</span>
          </div>
          </div>
        </div>
        </ng-container>
      </div>
    </div>
    <img
    src="../../../assets/images/right-vector.png"
    alt="next"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%; right: -20px"
    *ngIf="nsEndIndex <= slides.length && slides.length > 4"
    (click)="scrollStores('nearByStore', 'next')"
  />
</section>

<!-- <div class="container-fluid mb-5" style="position: relative">
  <div class="flex" style="justify-content: center">
    <h2 class="text-center mb-5">Popular Stores</h2>
    <div style="position: absolute; right: 75px; top: 15px">
      <span>Page {{ psCurrentPage }} of {{ pageSize("popularStore") }}</span>
      <span *ngIf="psCurrentPage != 1">
        <span
          style="
            display: inline-block;
            margin: -2px 0.67375em 0;
            width: 1px;
            background-color: #ddd;
            line-height: 0;
            height: 14px;
            vertical-align: middle;
          "
        ></span>
        <span
          class="start-over cursor-pointer"
          (click)="StartingPage('popularStore')"
          >Start over</span
        >
      </span>
    </div>
  </div>
  <img
    src="../../../assets/images/left-vector.png"
    alt="prev"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%"
    *ngIf="psStartIndex != 0"
    (click)="scrollStores('popularStore', 'prev')"
  />
  <div class="container">
    <div class="row justify-content-between">
      <div
        *ngFor="let popularCard of popularCards; let idx = index"
        class="store-card-max-width p-0"
      >
        <div
          style="border: 1px solid #c4c4c4; border-radius: 0px 0px 10px 10px"
          *ngIf="idx >= psStartIndex && idx < psEndIndex"
        >
          <div class="offer-tag">
            <div class="offer-text">
              <div class="ms-3">
                <div>{{ popularCard.percentageText }}%</div>
                <div>Off</div>
              </div>
            </div>
          </div>
          <img
            class="card-img-top store-card-img-height"
            src="{{ popularCard.shopImage }}"
            alt="Card image cap"
          />
          <div class="card-body p-3" style="font-family: 'Poppins'">
            <div class="row flex-column">
              <div class="col-sm col-lg col-md">
                <div class="d-flex">
                  <div class="col-sm col-lg col-md text-start">
                    <b class="store-name text-capitalize">{{
                      popularCard.shopTitel
                    }}</b>
                  </div>
                  <div class="col-sm col-lg col-md text-end">
                    <span
                      style="color: #fff"
                      class="btn-grey-border mb-0 float-end new-class"
                    >
                      <i class="fa-solid fa-star star-calss"></i>
                      <span class="rating-in-numbers">{{
                        popularCard.rating
                      }}</span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-sm col-lg col-md">
                <div class="d-flex">
                  <div class="col-sm col-lg col-md text-start">
                    <b class="store-category text-capitalize">{{
                      popularCard.storeCatogery
                    }}</b>
                  </div>
                  <div class="col-sm col-lg col-md text-end">
                    <span class="area-radius"
                      >{{ popularCard.kilometers }} km</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="card-footer bg-transparent align-items-center"
            style="
              text-align: left;
              border-top: 1px solid;
              margin-left: 10px;
              width: 215px;
            "
          >
            <span class="card-footer-text">
              <img
                src="{{ popularCard.percentageImage }}"
                alt=""
                srcset=""
                class="percentage-icon"
              />
              <!-- <i class="fa-solid fa-star" style="color: #ff7a00"></i>
              <span class="discount-in-percentage">
                {{ popularCard.discountText }}% Off</span
              >
              <span class="pipe-class">|</span>
              <span class="new-store text-capitalize">{{
                popularCard.newStore
              }}</span>
            </span>
            <span>
              <i
                class="fa-solid fa-heart heart-color float-end"
                [ngClass]="getfavoriteStoreFlag ? 'fill-heart-color' : ''"
                (click)="getfavoriteStore(getfavoriteStoreFlag)"
              ></i
            ></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <img
    src="../../../assets/images/right-vector.png"
    alt="next"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%; right: 18px"
    *ngIf="psEndIndex <= popularCards.length && popularCards.length > 4"
    (click)="scrollStores('popularStore', 'next')"
  />
</div> -->

<!-- nearby-store-card- -->
<!-- <div class="container-fluid mb-5" style="position: relative">
  <div class="flex" style="justify-content: center">
    <h2 class="text-center mb-5">Nearby You</h2>
    <div style="position: absolute; right: 75px; top: 15px">
      <span>Page {{ nsCurrentPage }} of {{ pageSize("nearByStore") }}</span>
      <span *ngIf="nsCurrentPage != 1">
        <span
          style="
            display: inline-block;
            margin: -2px 0.67375em 0;
            width: 1px;
            background-color: #ddd;
            line-height: 0;
            height: 14px;
            vertical-align: middle;
          "
        ></span>
        <span
          class="start-over cursor-pointer"
          (click)="StartingPage('nearByStore')"
          >Start over</span
        >
      </span>
    </div>
  </div>
  <img
    src="../../../assets/images/left-vector.png"
    alt="prev"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%"
    *ngIf="nsStartIndex != 0"
    (click)="scrollStores('nearByStore', 'prev')"
  />
  <div class="container">
    <div class="row justify-content-between">
      <div
        *ngFor="let slide of slides; let idx = index"
        class="store-card-max-width p-0"
      >
        <div
          style="border: 1px solid #c4c4c4; border-radius: 0px 0px 10px 10px"
          *ngIf="idx >= nsStartIndex && idx < nsEndIndex"
        >
          <div class="offer-tag">
            <div class="offer-text">
              <div class="ms-3">
                <div>{{ slide.percentageText }}%</div>
                <div>Off</div>
              </div>
            </div>
          </div>
          <img
            class="card-img-top store-card-img-height"
            src="{{ slide.shopImage }}"
            alt="Card image cap"
          />
          <div class="card-body p-3" style="font-family: 'Poppins'">
            <div class="row flex-column">
              <div class="col-sm col-lg col-md">
                <div class="d-flex">
                  <div class="col-sm col-lg col-md text-start">
                    <b class="store-name text-capitalize">{{
                      slide.shopTitel
                    }}</b>
                  </div>
                  <div class="col-sm col-lg col-md text-end">
                    <span
                      style="color: #fff"
                      class="btn-grey-border mb-0 float-end new-class"
                    >
                      <i class="fa-solid fa-star star-calss"></i>
                      <span class="rating-in-numbers">{{ slide.rating }}</span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-sm col-lg col-md">
                <div class="d-flex">
                  <div class="col-sm col-lg col-md text-start">
                    <b class="store-category text-capitalize">{{
                      slide.storeCatogery
                    }}</b>
                  </div>
                  <div class="col-sm col-lg col-md text-end">
                    <span class="area-radius">{{ slide.kilometers }} km</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            class="card-footer bg-transparent align-items-center"
            style="
              text-align: left;
              border-top: 1px solid;
              margin-left: 10px;
              width: 215px;
            "
          >
            <span class="card-footer-text">
              <img
                src="{{ slide.percentageImage }}"
                alt=""
                srcset=""
                class="percentage-icon"
              />
              <!-- <i class="fa-solid fa-star" style="color: #ff7a00"></i>
              <span class="discount-in-percentage">
                {{ slide.discountText }}% Off</span
              >
              <span class="pipe-class">|</span>
              <span class="new-store text-capitalize">{{
                slide.newStore
              }}</span>
            </span>
            <span>
              <i
                class="fa-solid fa-heart heart-color float-end"
                [ngClass]="getfavoriteStoreFlag ? 'fill-heart-color' : ''"
                (click)="getfavoriteStore(getfavoriteStoreFlag)"
              ></i
            ></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <img
    src="../../../assets/images/right-vector.png"
    alt="next"
    width="14px"
    height="25px"
    class="cursor-pointer"
    style="position: absolute; top: 50%; right: 18px"
    *ngIf="nsEndIndex <= slides.length && slides.length > 4"
    (click)="scrollStores('nearByStore', 'next')"
  />
</div> -->

<!--
  <button (click)="addSlide()">Add</button>
  <button (click)="removeSlide()">Remove</button>
  <button (click)="slickModal.slickGoTo(2)">slickGoto 2</button>
  <button (click)="slickModal.unslick()">unslick</button> -->
